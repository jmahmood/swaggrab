{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/ReconnectingWebSocket.ts","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/dataservice.service.ts","./src/app/sticker-button/sticker-button.component.css","./src/app/sticker-button/sticker-button.component.html","./src/app/sticker-button/sticker-button.component.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it succesfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API.\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Latest TypeScript version: https://github.com/daviddoran/typescript-reconnecting-websocket/\n * - David Doran\n */\nexport class ReconnectingWebSocket {\n    /**\n     * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n     */\n    public static debugAll = false;\n\n    // These can be altered by calling code\n    public debug = false;\n\n    // Time to wait before attempting reconnect (after close)\n    public reconnectInterval = 1000;\n    // Time to wait for WebSocket to open (before aborting and retrying)\n    public timeoutInterval = 2000;\n\n    // Should only be used to read WebSocket readyState\n    public readyState: number;\n\n    // Whether WebSocket was forced to close by this client\n    private forcedClose = false;\n    // Whether WebSocket opening timed out\n    private timedOut = false;\n\n    // List of WebSocket sub-protocols\n    private protocols: string[] = [];\n\n    // The underlying WebSocket\n    private ws: WebSocket;\n    private url: string;\n\n\n    // Set up the default 'noop' event handlers\n    public onopen: (ev: Event) => void = function (event: Event) {};\n    public onclose: (ev: CloseEvent) => void = function (event: CloseEvent) {};\n    public onconnecting: () => void = function () {};\n    public onmessage: (ev: MessageEvent) => void = function (event: MessageEvent) {};\n    public onerror: (ev: ErrorEvent) => void = function (event: ErrorEvent) {};\n\n    constructor(url: string, protocols: string[] = []) {\n        this.url = url;\n        this.protocols = protocols;\n        this.readyState = WebSocket.CONNECTING;\n        this.connect(false);\n    }\n\n    public connect(reconnectAttempt: boolean) {\n        this.ws = new WebSocket(this.url, this.protocols);\n\n        this.onconnecting();\n        this.log('ReconnectingWebSocket', 'attempt-connect', this.url);\n\n        const localWs = this.ws;\n        const timeout = setTimeout(() => {\n            this.log('ReconnectingWebSocket', 'connection-timeout', this.url);\n            this.timedOut = true;\n            localWs.close();\n            this.timedOut = false;\n        }, this.timeoutInterval);\n\n        this.ws.onopen = (event: Event) => {\n            clearTimeout(timeout);\n            this.log('ReconnectingWebSocket', 'onopen', this.url);\n            this.readyState = WebSocket.OPEN;\n            reconnectAttempt = false;\n            this.onopen(event);\n        };\n\n        this.ws.onclose = (event: CloseEvent) => {\n            clearTimeout(timeout);\n            this.ws = null;\n            if (this.forcedClose) {\n                this.readyState = WebSocket.CLOSED;\n                this.onclose(event);\n            } else {\n                this.readyState = WebSocket.CONNECTING;\n                this.onconnecting();\n                if (!reconnectAttempt && !this.timedOut) {\n                    this.log('ReconnectingWebSocket', 'onclose', this.url);\n                    this.onclose(event);\n                }\n                setTimeout(() => {\n                    this.connect(true);\n                }, this.reconnectInterval);\n            }\n        };\n        this.ws.onmessage = (event) => {\n            this.log('ReconnectingWebSocket', 'onmessage', this.url, event.data);\n            this.onmessage(event);\n        };\n        this.ws.onerror = (event: ErrorEvent) => {\n            this.log('ReconnectingWebSocket', 'onerror', this.url, event);\n            this.onerror(event);\n        };\n    }\n\n    public send(data: any) {\n        if (this.ws) {\n            this.log('ReconnectingWebSocket', 'send', this.url, data);\n            return this.ws.send(data);\n        } else {\n            throw new Error('INVALID_STATE_ERR : Pausing to reconnect websocket');\n        }\n    }\n\n    /**\n     * Returns boolean, whether websocket was FORCEFULLY closed.\n     */\n    public close(): boolean {\n        if (this.ws) {\n            this.forcedClose = true;\n            this.ws.close();\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Additional public API method to refresh the connection if still open (close, re-open).\n     * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n     *\n     * Returns boolean, whether websocket was closed.\n     */\n    public refresh(): boolean {\n        if (this.ws) {\n            this.ws.close();\n            return true;\n        }\n        return false;\n    }\n\n    private log(...args: any[]) {\n        if (this.debug || ReconnectingWebSocket.debugAll) {\n            console.debug.apply(console, args);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ReconnectingWebSocket.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div style=\\\"text-align:center\\\">\\n  <h1>\\n    Welcome to {{ title }}!\\n  </h1>\\n</div>\\n\\n<h2>YOU MAY HAVE WON SOMETHING.  SELECT BELOW</h2>\\n\\n<table>\\n  <thead>\\n    <tr>\\n      <th>Python</th>\\n      <th>PHP</th>\\n      <th>Ruby</th>\\n      <th>Postgres</th>\\n      <th>Kafka</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr>\\n      <td>{{ pythonButtonOptions.total }}</td>\\n      <td>{{ rubyButtonOptions.total }}</td>\\n      <td>{{ phpButtonOptions.total }}</td>\\n      <td>{{ postgresButtonOptions.total }}</td>\\n      <td>{{ kafkaButtonOptions.total }}</td>\\n    </tr>\\n    <tr *ngIf=\\\"!successful_request\\\">\\n      <td><app-sticker-button (SuccessfulRequest)=\\\"requestMade()\\\" [Button]=\\\"pythonButtonOptions\\\"></app-sticker-button></td>\\n      <td><app-sticker-button (SuccessfulRequest)=\\\"requestMade()\\\" [Button]=\\\"rubyButtonOptions\\\"></app-sticker-button></td>\\n      <td><app-sticker-button (SuccessfulRequest)=\\\"requestMade()\\\" [Button]=\\\"phpButtonOptions\\\"></app-sticker-button></td>\\n      <td><app-sticker-button (SuccessfulRequest)=\\\"requestMade()\\\" [Button]=\\\"postgresButtonOptions\\\"></app-sticker-button></td>\\n      <td><app-sticker-button (SuccessfulRequest)=\\\"requestMade()\\\" [Button]=\\\"kafkaButtonOptions\\\"></app-sticker-button></td>\\n    </tr>\\n    <tr *ngIf=\\\"successful_request\\\">\\n      <td colspan=\\\"5\\\">Thanks! Your order has been processed</td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ButtonOptions} from './interfaces';\nimport {Subscription} from 'rxjs/Subscription';\nimport {DataService} from './dataservice.service';\nimport {ReconnectingWebSocket} from './ReconnectingWebSocket';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  sub: Subscription;\n  message: string;\n  socket: ReconnectingWebSocket;\n\n  successful_request = false;\n\n  title = 'SwagGrab';\n  s_shirts = 1;\n  m_shirts = 1;\n  l_shirts = 1;\n  xl_shirts = 1;\n\n  pythonButtonOptions: ButtonOptions = {button_id: 'python', total: 0};\n  rubyButtonOptions: ButtonOptions = {button_id: 'ruby', total: 0};\n  phpButtonOptions: ButtonOptions = {button_id: 'php', total: 0};\n  postgresButtonOptions: ButtonOptions = {button_id: 'postgres', total: 0};\n  kafkaButtonOptions: ButtonOptions = {button_id: 'kafka', total: 0};\n\n  constructor(private dataService: DataService) {}\n\n  ngOnInit() {\n    const that = this;\n    this.dataService.init().then(res => {\n      console.log(res);\n      for (const k of Object.keys(res)) {\n        that[k + 'ButtonOptions'] = {'button_id': k, 'total': res[k] > 0 ? res[k] : 0};\n      }\n    });\n    const x = this.dataService.listen();\n    this.sub = x.subscribe(subscription => {\n      const button_id = JSON.parse(subscription.data).button_id;\n      const total = JSON.parse(subscription.data).total;\n      that[button_id + 'ButtonOptions'] = {'button_id': button_id, 'total': total};\n    });\n}\n\n  ngOnDestroy() {\n\n  }\n\n  requestMade() {\n    this.successful_request = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n\nimport { AppComponent } from './app.component';\nimport { StickerButtonComponent } from './sticker-button/sticker-button.component';\nimport {DataService} from './dataservice.service';\nimport {HttpClientModule} from '@angular/common/http';\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    StickerButtonComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule\n  ],\n  providers: [DataService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\nimport {HttpClient} from '@angular/common/http';\nimport {ButtonOptions} from './interfaces';\nimport {ReconnectingWebSocket} from './ReconnectingWebSocket';\n\n\n@Injectable()\nexport class DataService {\n\n  socket: ReconnectingWebSocket;\n  observing: Observable<MessageEvent>;\n\n  constructor(private http: HttpClient) { }\n\n  public start(): Observable<MessageEvent> {\n    if (this.observing == null) {\n      this.observing = this.listen();\n    }\n    return this.observing;\n  }\n\n\n  public init(): Promise<any> {\n    return this.http.get('http://localhost:5000/init').toPromise();\n  }\n\n  public request(data: ButtonOptions): Promise<any> {\n    const prom = this.http.post('http://localhost:5000/submit_request',\n      data).toPromise();\n    return prom.then((res: any) => {\n      return res;\n    });\n\n  }\n\n  public listen(): Observable<MessageEvent> {\n    return new Observable((observer) => {\n      this.socket = new ReconnectingWebSocket('ws://localhost:5000/receive');\n      this.socket.onopen = function(event) {\n        // Listen for messages\n        this.onmessage = function(socket_event) {\n          observer.next(socket_event);\n          // console.log('Client received a message', socket_event);\n        };\n        // Listen for socket closes\n        this.onclose = function(socket_event) {\n          console.log('Client notified socket has closed', socket_event);\n          observer.complete();\n        };\n      };\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/dataservice.service.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/sticker-button/sticker-button.component.css\n// module id = ./src/app/sticker-button/sticker-button.component.css\n// module chunks = main","module.exports = \"<button (click)=\\\"onClickStickerButton();\\\" *ngIf=\\\"Button.total > 0\\\">\\n Want!\\n</button>\\n<p *ngIf=\\\"Button.total <= 0\\\">\\n Sold Out!\\n</p>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/sticker-button/sticker-button.component.html\n// module id = ./src/app/sticker-button/sticker-button.component.html\n// module chunks = main","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {ButtonOptions} from '../interfaces';\nimport {DataService} from '../dataservice.service';\n\n@Component({\n  selector: 'app-sticker-button',\n  templateUrl: './sticker-button.component.html',\n  styleUrls: ['./sticker-button.component.css']\n})\nexport class StickerButtonComponent implements OnInit {\n  @Input() Button: ButtonOptions;\n  @Output() SuccessfulRequest = new EventEmitter<Boolean>();\n\n  constructor(private dataService: DataService) { }\n\n  ngOnInit() {\n  }\n\n  onClickStickerButton() {\n    console.log(this.Button);\n    this.dataService.request(this.Button).then((res: any) => {\n      console.log(res);\n      if (!res.success) {\n        console.log('Failure to subscribe');\n      } else {\n        this.SuccessfulRequest.emit(true);\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/sticker-button/sticker-button.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}